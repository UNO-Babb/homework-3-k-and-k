<!doctype html>
<html>
<head>
    <title>Island Dice Game</title>
</head>
<body>
<h1>ðŸŒ´ Island Grid Adventure ðŸŒ‹</h1>

{% if not game_started %}
<form method="post">
    <label>Number of players:</label>
    <input type="number" name="players" min="2" max="4" required>
    <button type="submit">Start Game</button>
</form>
{% else %}
<h3>Current Turn: Player {{ current }}</h3>
<h3>{{ last_action }}</h3>
<form method="post">
    <button type="submit">Roll Dice</button>
</form>

<h2>Grid:</h2>
<table border="1">
{% for i in range(grid|length) %}
    {% if i % width == 0 %}<tr>{% endif %}
    <td>
        {{ grid[i][0] }}<br>
        {% for p, pos in positions|enumerate %}
            {% if pos == i %}Player {{ p+1 }}<br>{% endif %}
        {% endfor %}
    </td>
    {% if i % width == width-1 %}</tr>{% endif %}
{% endfor %}
</table>

{% if winner is not none %}
<h2>ðŸŽ‰ Player {{ winner+1 }} Wins! ðŸŽ‰</h2>
{% endif %}
{% endif %}
</body>
</html>
